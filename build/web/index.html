<html lang="en-us">
<head>
    <script src="https://pygame-web.github.io/archives/0.9/pythons.js" type="module" async defer></script>
    <title>blackknightchesspuzzle</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="favicon.png" sizes="16x16">

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #7f7f7f;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden; /* Prevent scrollbars */
        }
        canvas {
            background-color: transparent;
            display: block; /* Center the canvas */
        }
    </style>
</head>

<body>
    <div id="transfer" align="center">
        <div class="emscripten" id="status">Downloading...</div>
        <div class="emscripten">
            <progress value="0" max="100" id="progress"></progress>
        </div>
    </div>

    <canvas class="emscripten" id="canvas"
        width="1280"
        height="720"
        oncontextmenu="event.preventDefault()" tabindex="1"></canvas>

    <script type="application/javascript">
        async function custom_onload(debug_hidden) {
            // Called before anything Python is loaded
            document.getElementById("transfer").hidden = debug_hidden;
        }

        function custom_postrun() {
            // After Python main has been run
            window.addEventListener("keydown", function(e) {
                if (["Space", "ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"].includes(e.code)) {
                    e.preventDefault(); // Prevent default action
                }
            }, false);
        }

        // This will ensure the canvas is resized properly
        function resizeCanvas() {
            const canvas = document.getElementById('canvas');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        window.onload = function() {
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
        };
    </script>
</body>
</html>
